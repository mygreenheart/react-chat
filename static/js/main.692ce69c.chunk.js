(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],[,,,,,,,,,,function(e){e.exports=JSON.parse('[{"content":"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 2","sender_id":"98s7dfh9a8s7dhf","uuid":"8723hernm","date":"22 Apr 2017 16:00"},{"content":"Quickly cone to the meeting room 1B, we have a big server issue","sender_id":"mnzxcv97zx6chvo","uuid":"435nbcv98234","date":"22 Apr 2017 16:00"},{"content":"I am having breakfast right now,can\'t you wait for 10 minutes?","my_id":"lAWIy7U/50GcyxkUqEwGhA==","receiver_id":"mnzxcv97zx6chvo","uuid":"435nbcv98234","date":"22 Apr 2017 16:05"},{"content":"We are losing money! Quick","sender_id":"mnzxcv97zx6chvo","uuid":"435nbcv98234","date":"22 Apr 2017 16:10"},{"content":"I am ready","my_id":"lAWIy7U/50GcyxkUqEwGhA==","receiver_id":"mnzxcv97zx6chvo","uuid":"435nbcv98234","date":"22 Apr 2017 16:35"}]')},function(e){e.exports=JSON.parse('[{"is_online":true,"name":"Alice Freeman","img":"https://im.kommersant.ru/Issues.photo/CORP/2017/09/15/KMO_152927_00258_1_t218_132144.jpg","uuid":"98s7dfh9a8s7dhf"},{"is_online":true,"name":"Josefina","img":"https://steamuserimages-a.akamaihd.net/ugc/803174280547006276/37287CBC314D199C52C02991C01F566EB26BE2A7/?imw=512&&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=false","uuid":"mnzxcv97zx6chvo"},{"is_online":false,"name":"Valazquez","img":"https://sun9-63.userapi.com/VSEUlN2Ri6uPqoLLYbr-Gyv_3rtO5QU5MaE40g/T-iB7oCCqvY.jpg","uuid":"kjuhv987ashdfoua"},{"is_online":false,"name":"Barrera","img":"https://www.spletnik.ru/thumb/310x310/img/persons/kinopoisk_ru-Ryan-Gosling-1090000.jpg","uuid":"jdhnf978WEHJSNDL"},{"is_online":false,"name":"Barrera","img":"https://www.spletnik.ru/thumb/310x310/img/persons/kinopoisk_ru-Ryan-Gosling-1090000.jpg","uuid":"GJb19NYmVkyUDeuKYmyxtA"},{"is_online":false,"name":"Barrera","img":"https://www.spletnik.ru/thumb/310x310/img/persons/kinopoisk_ru-Ryan-Gosling-1090000.jpg","uuid":"DZTQzeR36keJiNoKYYuFZQ=="},{"is_online":false,"name":"Barrera","img":"https://www.spletnik.ru/thumb/310x310/img/persons/kinopoisk_ru-Ryan-Gosling-1090000.jpg","uuid":"jR7HZMdoKkaWMI76sOjpgQ=="}]')},,,,,,,,,function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){"use strict";t.r(s);var n=t(0),a=t(1),i=t(7),c=t.n(i),r=(t(20),t(6)),m=t(8),o=t(9),u=t(2),h=t(14),l=t(12),d=(t(21),t(22),t(23),t.p+"static/media/user-profile.9ed2f905.svg");function g(e){return Object(n.jsxs)("div",{className:"User",children:[Object(n.jsxs)("div",{className:"user-info",children:[Object(n.jsx)("img",{src:d,className:"user-img",alt:"user"}),Object(n.jsx)("i",{class:"far fa-check-circle"})]}),Object(n.jsx)("input",{type:"text",onChange:function(s){return e.handleSearch(s)},placeholder:"\uf002 Search or start a new chat"})]})}t(24);function b(e){var s=new Date;return Object(n.jsxs)("div",{className:"MemberItem",onClick:function(){return e.handleMemberItem(e.member.uuid)},children:[Object(n.jsxs)("div",{className:"member-info",children:[Object(n.jsxs)("div",{className:"member-icon",children:[Object(n.jsx)("img",{src:e.member.img,alt:e.member.name}),e.member.is_online?Object(n.jsx)("i",{class:"far fa-check-circle"}):null]}),Object(n.jsx)("div",{className:"member-text",children:Object(n.jsx)("div",{children:e.member.name})})]}),Object(n.jsx)("div",{className:"member-date",children:s.getHours()+":"+s.getMinutes()})]})}t(25);function j(e){var s=e.members.map((function(s){return Object(n.jsx)(b,{messages:e.messages,member:s,handleMemberItem:e.handleMemberItem},s.uuid)})),t=e.members.filter((function(s){return s.name.toLowerCase().startsWith(e.searchStr)})).map((function(s){return Object(n.jsx)(b,{messages:e.messages,member:s,handleMemberItem:e.handleMemberItem},s.uuid)}));return Object(n.jsxs)("div",{className:"MemberList",children:[Object(n.jsx)("h1",{children:"Chats"}),0===e.searchStr.length?s:t]})}function f(e){return Object(n.jsxs)("div",{className:"LeftSide",children:[Object(n.jsx)(g,{handleSearch:e.handleSearch}),Object(n.jsx)(j,{messages:e.messages,members:e.members,handleMemberItem:e.handleMemberItem,searchStr:e.searchStr})]})}t(26);function x(e){return Object(n.jsxs)("div",{className:"MessageHeader",children:[Object(n.jsx)("img",{src:e.choosenMember.img,alt:e.choosenMember.name}),Object(n.jsx)("p",{children:e.choosenMember.name})]})}t(27),t(28);function v(e){return Object(n.jsx)(n.Fragment,{children:void 0!==e.message.my_id?Object(n.jsx)("div",{className:"Message  my-message",children:Object(n.jsxs)("div",{className:"message-content my-message",children:[Object(n.jsx)("div",{className:"message-text",children:e.message.content}),Object(n.jsx)("div",{className:"message-date",children:e.messageDate.getMonth()+"/"+e.messageDate.getDate()+"/"+e.messageDate.getFullYear()+", "+e.messageDate.getHours()+":"+e.messageDate.getMinutes()})]})}):Object(n.jsxs)("div",{className:"Message",children:[Object(n.jsx)("div",{className:"message-icon",children:Object(n.jsx)("img",{src:e.choosenMember.img,alt:e.choosenMember.name})}),Object(n.jsxs)("div",{className:"message-content",children:[Object(n.jsx)("div",{className:"message-text",children:e.message.content}),Object(n.jsx)("div",{className:"message-date",children:e.messageDate.getMonth()+"/"+e.messageDate.getDate()+"/"+e.messageDate.getFullYear()+", "+e.messageDate.getHours()+":"+e.messageDate.getMinutes()})]})]})})}function p(e){var s=e.messages.map((function(s){return void 0===e.choosenMember.uuid?null:e.choosenMember.uuid===s.sender_id||e.choosenMember.uuid===s.receiver_id?Object(n.jsx)(v,{messageDate:new Date(s.date),message:s,choosenMember:e.choosenMember},s.key):void 0}));return Object(n.jsx)("div",{className:"MessageField",children:s})}t(29);var O=t(13);t(30);function M(e){var s=Object(a.useState)(""),t=Object(O.a)(s,2),i=t[0],c=t[1];return Object(n.jsxs)("section",{className:"MessageSend",children:[Object(n.jsx)("input",{type:"text",value:i,onChange:function(e){c(e.target.value)},placeholder:"Type message to send"}),Object(n.jsx)("button",{type:"submit",onClick:function(s){s.preventDefault(),i.length>0&&(e.sendMessageData(i,e.choosenMember.uuid),c(""))},children:Object(n.jsx)("i",{class:"far fa-paper-plane"})})]})}function k(e){return Object(n.jsxs)("div",{className:"RightSide",children:[Object(n.jsx)(x,{choosenMember:e.choosenMember}),Object(n.jsx)(p,{me:e.me,messages:e.messages,choosenMember:e.choosenMember}),0===Object.entries(e.choosenMember).length?null:Object(n.jsx)(M,{choosenMember:e.choosenMember,sendMessageData:e.sendMessageData})]})}var y=t(10),S=t(11),D=t(33),N=function(e){Object(h.a)(t,e);var s=Object(l.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=s.call(this,e)).state={choosenMember:{},message:y,members:S,searchStr:"",me:{isOnline:!0,name:"Alex",img:"http://localhost:3000/static/media/user-profile.9ed2f905.svg",uuid:"lAWIy7U/50GcyxkUqEwGhA=="}},n.handleMemberItem=n.handleMemberItem.bind(Object(u.a)(n)),n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n.sendMessageData=n.sendMessageData.bind(Object(u.a)(n)),n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("message")||"[]");Object.entries(e).length>0&&this.setState((function(){return{message:e}}))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("message",JSON.stringify(this.state.message))}},{key:"sendMessageData",value:function(e,s){var t=this,n=new Date;this.setState((function(a){return{message:[].concat(Object(r.a)(a.message),[{content:e,my_id:t.state.me.uuid,sender_id:s,uuid:Object(D.a)(),date:n.getMonth()+"/"+n.getDate()+"/"+n.getFullYear()+", "+n.getHours()+":"+n.getMinutes()}])}})),setTimeout((function(){fetch("https://api.chucknorris.io/jokes/random").then((function(e){return e.json()})).then((function(e){t.setState((function(t){return{message:[].concat(Object(r.a)(t.message),[{content:e.value,sender_id:s,uuid:Object(D.a)(),date:n.getMonth()+"/"+n.getDate()+"/"+n.getFullYear()+", "+n.getHours()+":"+n.getMinutes()}])}}))})),alert("message")}),1e4)}},{key:"handleMemberItem",value:function(e){var s=this;this.state.members.map((function(t){t.uuid===e&&s.setState(s.state.choosenMember=t)}))}},{key:"handleSearch",value:function(e){this.setState({searchStr:e.target.value})}},{key:"render",value:function(){return console.log(this.state.searchSrt),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(f,{messages:this.state.message,members:this.state.members,handleMemberItem:this.handleMemberItem,handleSearch:this.handleSearch,searchStr:this.state.searchStr}),Object(n.jsx)(k,{me:this.state.me,choosenMember:this.state.choosenMember,messages:this.state.message,sendMessageData:this.sendMessageData})]})}}]),t}(a.Component),_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(s){var t=s.getCLS,n=s.getFID,a=s.getFCP,i=s.getLCP,c=s.getTTFB;t(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(n.jsx)(N,{}),document.getElementById("root")),_()}],[[31,1,2]]]);
//# sourceMappingURL=main.692ce69c.chunk.js.map